# –ú–æ–π –≤–∫–ª–∞–¥ –≤ Lua

–°–ø–∏—Å–æ–∫ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω **–æ—Ç —Å–∞–º—ã—Ö –Ω–æ–≤—ã—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–∞–±–æ—Ç –¥–æ —Å–∞–º—ã—Ö —Å—Ç–∞—Ä—ã—Ö** (—Å—Ç–∞—Ä—ã–µ –≤ –∫–æ–Ω—Ü–µ). –°–æ–≤—Å–µ–º –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –≤ —Å–ø–∏—Å–æ–∫ –Ω–µ –≤–∫–ª—é—á–µ–Ω—ã.

## üöÄ –ü–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ express.js –Ω–∞ Lua

:::info

–ú–æ–π –Ω–æ–≤—ã–π –∫—Ä—É–ø–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –¥–æ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤ –º–∏—Ä–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–æ (–∏–ª–∏ —è –Ω–µ –Ω–∞—à–µ–ª) **–º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö** non-blocking –≤–µ–± —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –Ω–∞ Lua. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ —ç—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å –ø–æ—Ä—Ç —á—É–∂–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å NodeJS, –æ–Ω –ø–æ—Ç—Ä–µ–ø–∞–ª –º–Ω–µ –≤–¥–æ–≤–æ–ª—å –Ω–µ—Ä–≤–æ–≤. –•–æ—Ç—è –±—ã –ø–æ—Ç–æ–º—É —á—Ç–æ —É express.js –±—ã–ª —Å–≤–æ–π NodeJS, –∞ —É Lua ‚Äì –Ω–µ—Ç

:::

> üí† [lua-express](https://github.com/TRIGONIM/lua-express) üí† ‚Äì –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ `express.js` –≤ —á–∏—Å—Ç—ã–π Lua. –°—Ç–∞—Ä–∞—Ç–µ–ª—å–Ω—ã–π **–ø–æ—Å—Ç –≤ –±–ª–æ–≥–µ**: [—Ç—É—Ç](/2023/12/13/lua-express)

- –ü—Ä–æ–≤–µ—Ä–µ–Ω –≤ –±–æ—é –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ GMDonate API
- –õ–µ–≥–∫–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –æ—Ç–ª–∏—á–∏–∏ –æ—Ç Turbo, Luvit, Lapis
- –í—Å–µ –µ—â–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ì–æ—Ç–æ–≤—ã–µ Middlewares

–ü–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã `body-parser`, `cookie-parser`, –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö middlewares, —Ç–∞–∫–∏—Ö –∫–∞–∫ `rate-limiter` –∏ `validator`.

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–æ–∂–Ω–æ: [—Ç—É—Ç](https://github.com/TRIGONIM/lua-express-middlewares)

### –ì–æ—Ç–æ–≤—ã–π `long-polling` —Å–µ—Ä–≤–µ—Ä

–û–Ω –Ω–∞–ø–∏—Å–∞–Ω –∫–∞–∫ —Ä–∞–∑ –Ω–∞ `lua-express` –∏ –æ –Ω–µ–º –ª—É—á—à–µ –ø–æ—á–∏—Ç–∞—Ç—å –≤ –±–ª–æ–≥–µ: [—Ç—É—Ç](/2023/12/15/long-polling)


--- --- ---


## –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π MySQL –∫–ª–∏–µ–Ω—Ç –Ω–∞ –≥–æ–ª—ã—Ö —Å–æ–∫–µ—Ç–∞—Ö

> üí† [luasocket-mysql](https://github.com/TRIGONIM/luasocket-mysql) üí† ‚Äì —Ñ–æ—Ä–∫ –¥—Ä–∞–π–≤–µ—Ä–∞ –æ—Ç OpenResty, –ø–µ—Ä–µ–¥–µ–ª–∞–Ω–Ω—ã–π —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å MySQL non-blocking –∑–∞–ø—Ä–æ—Å—ã. –î–ª—è **Redis** —è —Ç–æ–∂–µ [–ø–æ—á—Ç–∏ –Ω–∞–ø–∏—Å–∞–ª](https://github.com/lunarmodules/copas/issues/165) –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –Ω–æ –µ—â–µ –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ ‚Äì –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å.

- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω MySQL Connection Pool. –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å MySQL –∏ –µ—Å–ª–∏ –æ–¥–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–Ω—è—Ç–æ —Ç—è–∂–µ–ª—ã–º –∑–∞–ø—Ä–æ—Å–æ–º, —Ç–æ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- –ù–∏–∫–∞–∫–∏—Ö –±–∏–Ω–∞—Ä–Ω—ã—Ö –º–æ–¥—É–ª–µ–π, –∫—Ä–æ–º–µ luasocket, –Ω–∏–∫–∞–∫–∏—Ö ffi. –ß–∏—Å—Ç—ã–π Lua
- –ü—Ä–æ–≤–µ—Ä–µ–Ω –≤ –±–æ—é –Ω–∞ Production API GMDonate

## ‚úàÔ∏è –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Telegram –±–æ—Ç–æ–≤

> üí† [ggram](http://git.io/ggram) üí† - –º–æ—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Telegram –±–æ—Ç–æ–≤ –Ω–∞ Lua —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é.

- –ú–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –≤–Ω—É—Ç—Ä–∏ Garry's Mod, —Ç–∞–∫ –∏ –≤ —á–∏—Å—Ç–æ–º Lua –±–µ–∑ –ø–∞—á–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- –ù–∞ –Ω–µ–π –Ω–∞–ø–∏—Å–∞–Ω—ã –ø–æ—á—Ç–∏ –≤—Å–µ [–º–æ–∏ –±–æ—Ç—ã](/docs/telegram/bots)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–æ–±–∏—è middlewares (–∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `multipart/form-data`

## –ü–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Garry's Mod —Ñ—É–Ω–∫—Ü–∏–π –≤ —á–∏—Å—Ç—ã–π Lua

> üí† [lua-gmod-lib](https://github.com/TRIGONIM/lua-gmod-lib) üí† ‚Äì –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ Garry's Mod –≤ —á–∏—Å—Ç—ã–π Lua.

- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `http.*`, `timer.*`, `PrintTable()`, `MsgC()` –∏ –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π.
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è "–∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã—Ö" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —Å–º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –≤ –≥–º–æ–¥–µ –∏ –≤ —á–∏—Å—Ç–æ–º –ª—É–∞.
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞–∫–ª—é—á–∞–ª–∞—Å—å –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–∞–∫ —Ä–∞–∑ –≤ —Ç–∞–π–º–µ—Ä–∞—Ö –∏ http —Ñ—É–Ω–∫—Ü–∏—è—Ö, –ø–æ—Ç–æ–º—É —á—Ç–æ —è –¥–æ —Å–∏—Ö –ø–æ—Ä –Ω–µ –Ω–∞—à–µ–ª –Ω–∏–∫–æ–≥–æ, –∫—Ç–æ —Å–¥–µ–ª–∞–ª –±—ã –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ http –æ–±–µ—Ä—Ç–∫–∏ –≤ Lua

## –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ (non-blocking) HTTP –∑–∞–ø—Ä–æ—Å—ã

:::info

**–≠—Ç–æ —Ç–æ, —á—Ç–æ –º–Ω–µ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –º–µ—à–∞–ª–æ –∑–∞–Ω—è—Ç—å—Å—è —á–∏—Å—Ç—ã–º Lua**. –ú–Ω–µ —Ö–æ—Ç–µ–ª–æ—Å—å –ø–∏—Å–∞—Ç—å –Ω–∞ –Ω–µ–º –≤—Å–µ —Ç–µ –ø—Ä–∏–∫–æ–ª—å–Ω—ã–µ —à—Ç—É–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ª—é–¥–∏ –¥–µ–ª–∞—é—Ç –Ω–∞ NodeJS –∏ Python, –Ω–æ –≤ Lua –Ω–µ –±—ã–ª–æ –¥–∞–∂–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö HTTP –∫–ª–∏–µ–Ω—Ç–æ–≤, –Ω–µ –≥–æ–≤–æ—Ä—è —É–∂–µ –æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö –¥–ª—è —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–æ–≤. –û–± "non-blocking" –≤–µ—â–∞—Ö –≤ Lua —Å–ª–æ–≤–Ω–æ –Ω–∏–∫—Ç–æ –∏ –Ω–µ –¥—É–º–∞–ª, –∫—Ä–æ–º–µ copas (–∫–æ—Ç–æ—Ä—ã–π –¥–∞–∂–µ —Å–µ–π—á–∞—Å –Ω–µ –æ—á–µ–Ω—å –ø–æ–ø—É–ª—è—Ä–µ–Ω (200 –∑–≤–µ–∑–¥–æ—á–µ–∫. –ö–æ–≥–¥–∞ —è –Ω–∞—á–∏–Ω–∞–ª, –±—ã–ª–æ 150)).

:::

> üí† [lua-requests-async](https://github.com/TRIGONIM/lua-requests-async) üí† ‚Äì –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã –≤ —á–∏—Å—Ç–æ–º Lua.

- –û–¥–∏–Ω –∏–∑ –º–æ–∏—Ö —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–æ–≤ 24/7 –≤—ã–ø–æ–ª–Ω—è–µ—Ç —á–µ—Ä–µ–∑ –ª–∏–±—É –¥–µ—Å—è—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É ([@vk_reposter_bot](https://t.me/vk_reposter_bot)) —É–∂–µ –±–æ–ª—å—à–µ 2 –ª–µ—Ç
- –ù–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö —Ç—è–∂–µ–ª—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ß–∏—Å—Ç–æ copas –∏ luasocket
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTPS –∑–∞–ø—Ä–æ—Å–æ–≤. –î–ª—è NodeJS –∏ Python —ç—Ç–æ —Å–∞–º–æ —Å–æ–±–æ–π —Ä–∞–∑—É–º–µ—é—â–µ–µ—Å—è, –∞ –¥–ª—è Lua ‚Äì [—Ö—Ä–µ–Ω –Ω–∞–≥—É–≥–ª–∏—à—å](https://github.com/lunarmodules/copas/issues/115)
- [–ü—Ä–∏—à–ª–æ—Å—å](https://github.com/lunarmodules/copas/issues/138) –ø—Ä–æ–π—Ç–∏ **[–æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π](https://github.com/lunarmodules/copas/issues/151)** –ø—É—Ç—å —Å –¥–µ—Å—è—Ç–∫–∞–º–∏ –±–µ—Å—Å–æ–Ω–Ω—ã—Ö –Ω–æ—á–µ–π, —á—Ç–æ–±—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è

---

:::note

–í–æ–∑–º–æ–∂–Ω–æ, —è —É–∂–µ —Å–æ–∑–¥–∞–ª –∏ –¥—Ä—É–≥–∏–µ —à—Ç—É–∫–æ–≤–∏–Ω—ã –Ω–∞ —á–∏—Å—Ç–æ–º Lua, –Ω–æ –∑–∞–±—ã–ª –∏—Ö –≤–ø–∏—Å–∞—Ç—å –∑–¥–µ—Å—å. –Ø –¥—É–º–∞—é, —á—Ç–æ –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è –∏ —è –Ω–µ —Å–º–æ–≥—É –≤—ã—Ö–≤–∞—Ç–∏—Ç—å –∫—Ä—É—Ç–æ–π —é–∑–µ—Ä–Ω–µ–π–º –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ GitHub, —Ç–æ –≤—Å–µ –Ω–æ–≤—ã–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±—É–¥—É—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å—Å—è –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –º–æ–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ Lua –¥–µ—Ç–∏—â–∞ [–≤–æ—Ç –∑–¥–µ—Å—å](https://github.com/TRIGONIM).

üôè –ï—Å–ª–∏ –≤—ã –∑–∞–º–µ—Ç–∏–ª–∏, —á—Ç–æ —è —á—Ç–æ-—Ç–æ –∑–∞–±—ã–ª —Ç—É—Ç –¥–æ–±–∞–≤–∏—Ç—å ‚Äì –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –õ–° –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ Pull Request –∏–ª–∏ Issue, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞

:::
